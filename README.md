# Trade Marketing

Тестовое задание для стажёра Backend в команду Trade Marketing.
Нужно разработать микросервис для счетчиков статистики. Сервис должен уметь взаимодействовать с клиентом при помощи REST API или JSON RPC запросов.
Также нужно реализовать валидацию входных данных.

## Методы API

### Метод сохранения статистики

#### Описание

Метод сохранения статистики за определенную дату.

#### URL

`POST /statistic/`

#### Параметры запроса

- обязательные параметры:
  - `date` (дата события, формат: `YYYY-MM-DD`)
- не обязательные параметры:
  - `views` (количество показов)
  - `clicks` (количество кликов)
  - `cost` (стоимость кликов)

#### Пример запроса

```http
POST statistic/
Content-Type: application/json
{
    "date": "2024-01-01",
    "views": 100,
    "clicks": 10,
    "cost": 20.00
}
```
### Метод получения статистики

#### Описание

Метод получения статистики по указанному диапазону дат.

#### URL

`GET /statistic/`

#### Параметры запроса

- обязательные параметры:
  - `from` (дата начала периода, включительно, формат: `YYYY-MM-DD`)
  - `to` (дата окончания периода, включительно, формат: `YYYY-MM-DD`)
- не обязательные параметры:
  - `ordering` (сортировка по любому полю по убыванию и возрастанию `(-)field`)

#### Пример запроса

```http
GET /statistic/?from=2024-07-01&to=2024-07-04&ordering=-views
```

#### Пример ответа
```
{
        "date": "2024-07-01",
        "views": 10,
        "clicks": 10,
        "cost": "0.10",
        "cpc": 0.01,
        "cpm": 10.0
    }
```
, где cpc = cost/clicks (средняя стоимость клика),
cpm = cost/views * 1000 (средняя стоимость 1000 показов)

### Метод сброса статистики

#### Описание

Удаляет всю сохраненную статистику.

#### URL

`DELETE /statistic/`

#### Пример запроса

```http
DELETE /statistic/
```

## Unit-тесты

#### Пример запуска

```
python manage.py test apistatisticapp.tests.EventTestCase
```

## Инструкция по запуску приложения

#### Пример запуска
Перейдите в директорию проекта:
``` 
cd /path/to/Trade_Marketing
```
Соберите и запустите контейнер:
``` 
docker-compose up --build trade_marketingapp
```
Приложение будет доступно по адресу ```http://localhost:8000```